<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <title>用户登录·即时通讯系统</title>
    <meta name="renderer" content="webkit">
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
    <meta name="apple-mobile-web-app-status-bar-style" content="black">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="format-detection" content="telephone=no">
    <link rel="stylesheet" href="./layui/css/layui.css" media="all"/>
    <link rel="stylesheet" href="./css/login1.css" media="all"/>
    <link rel="stylesheet" href="./assets/css/intlTelInput.css">


</head>
<body class="login-body">
<div class="index-page">
    <div class="login-images">
    </div>
    <div class="login-head login-title">
        <div class="login">
            <span class="head-title phone-title">手机号登录</span>
            <span class="head-title user-title">用户名登录</span>
        </div>
        <div class="register-title register">
            <span class="head-title phone-title">手机号注册</span>
            <span class="head-title user-title">用户名注册</span>
        </div>
    </div>
    <div class="login-page login">
        <form class="layui-form"  method='post'>
            <div class="layui-form-item">
                <input id="telephone" type="text" placeholder="请输入手机号" autocomplete="off" name="telephone"
                       class="layui-input" lay-verify="required">
                <input id="account" type="text" placeholder="请输入账号" autocomplete="off" name="telephone"
                       class="layui-input" style="display: none" lay-verify="required">
            </div>
            <div class="layui-form-item">
                <input name="password" id="password" lay-verify="required" placeholder="密码"
                       class="layui-input" type="password">
            </div>

            <!--<div class="layui-form-item checkcode-warp register_inviteCode" style="display: none;">
                <input name="inviteCode" id="inviteCode" lay-verify="required" placeholder="邀请码" class="layui-input"
                       type="text">
            </div>-->
            <!--<div class="layui-form-item input-item img-code">
                <input type="text" placeholder="图形码,点击图片刷新" autocomplete="off" id="resetPwd_imgcode"
                       class="layui-input">
                <img id="reset-pwd-img" onclick="getImgCode(this.id,'resetPwd_telephone')" src="./img/get_img_code.png">
            </div>-->
            <!-- <div class="layui-form-item checkcode-warp">
                 <div class="smsCodeInput">
                     <input name="smsCode" id="resetPwd_smsCode" placeholder="短信验证码" class="layui-input" type="text">
                 </div>
                 <div class="smsCodeButton">
                     <button id="resetPwd_getSmsCode" class="get-check-code layui-btn layui-block" type="button"
                             onclick="sendmessage(this.id,'resetPwd_imgcode','resetPwd_telephone',0)">
                         获取验证码
                     </button>
                 </div>
             </div>-->

            <div class="layui-form-item">
                <button id="user_login" class="layui-btn layui-block" lay-filter="user_login" lay-submit
                        style="background-color: #6090dc; width:100%">登录
                </button>

            </div>
        </form>
    </div>
    <div class="register-page register"  style="display: none;">
        <form class="layui-form" method='post'>
            <div class="layui-form-item input-item">
                <input id="register_telephone" type="text" placeholder="请输入手机号" autocomplete="off" name="telephone"
                       class="layui-input" lay-verify="required">
                <input id="register_account" type="text" placeholder="请输入账号" autocomplete="off" name="telephone"
                       class="layui-input" style="display: none" lay-verify="required">
            </div>
            <div class="layui-form-item">
                <input name="password" id="register_password" lay-verify="required|passwd" placeholder="密码"
                       class="layui-input" type="password">
            </div>

            <div class="layui-form-item">
                <input name="repassword" id="register_repass" lay-verify="required|passwd" placeholder="确认密码"
                       class="layui-input" type="password">
            </div>
            <!--<div class="layui-form-item checkcode-warp register_inviteCode" style="display: none;">
                <input name="inviteCode" id="register_inviteCode" lay-verify="required" placeholder="邀请码"
                       class="layui-input"
                       type="text">
            </div>-->
            <!--<div class="layui-form-item input-item img-code">
                <input type="text" placeholder="图形码,点击图片刷新" autocomplete="off" id="resetPwd_imgcode"
                       class="layui-input">
                <img id="reset-pwd-img" onclick="getImgCode(this.id,'resetPwd_telephone')" src="./img/get_img_code.png">
            </div>-->
            <!--<div class="layui-form-item checkcode-warp">
                <div class="smsCodeInput">
                    <input name="smsCode" id="resetPwd_smsCode" placeholder="短信验证码" class="layui-input" type="text">
                </div>
                <div class="smsCodeButton">
                    <button id="resetPwd_getSmsCode" class="get-check-code layui-btn layui-block" type="button"
                            onclick="sendmessage(this.id,'resetPwd_imgcode','resetPwd_telephone',0)">
                        获取验证码
                    </button>
                </div>
            </div>-->

            <div class="layui-form-item">
                <!--<button  class="layui-btn layui-block" lay-filter="user_login" lay-submit
                        style="background-color: #6090dc; width:100%">注册
                </button>-->
                <button id="user_register" class="layui-btn layui-btn-fluid" lay-filter="register-submit" lay-submit style="background-color: #6090dc; width:100%">注 册</button>
            </div>


        </form>
    </div>
    <div class="login-tail login-title">
        <div class="register">
            <span class="tail-title">有账号?</span>
            <span id="toLogin" class="tail-title" style="color:#b8d7f9">登录</span>
        </div>
        <div class="register-title login">
            <span class="tail-title">还没有账号?</span>
            <span id="toRigister" class="tail-title" style="color:#b8d7f9">立即注册</span>
        </div>
    </div>
</div>

<script type="text/javascript" charset="UTF-8">
    (function () {
        //ie,包括ie11
        if (!!window.ActiveXObject || "ActiveXObject" in window) {
            alert("暂时不支持 ie 浏览器，请使用 Chrome、火狐、UC 等浏览器访问");
            document.execCommand("stop");
        }
    })();
</script>
<link rel="stylesheet" type="text/css" href="css/xcConfirm.css"/> <!-- 自定义弹框    -->

<script src="./assets/js/jquery-1.11.3.min.js" type="text/javascript"></script>
<script src="./assets/js/jquery.md5.js" type="text/javascript"></script>
<script src="./assets/js/jquery.qrcode.min.js" type="text/javascript"></script>
<!-- <script src="./assets/js/utils.js" type="text/javascript"></script> -->
<script src="./layui/layui.js" type="text/javascript"></script>

<script src="js/xcConfirm.js" type="text/javascript"></script> <!-- 自定义弹框    -->

<script src="./js/commons.js" type="text/javascript"></script>
<script src="./js/_coolchat-commons.js" type="text/javascript"></script>
<script src="./js/chat-sdk.js" type="text/javascript"></script>
<script src="./assets/js/jquery.cookie.js" type="text/javascript"></script>

<script src="./assets/js/intlTelInput.js" type="text/javascript"></script>
<!-- 本地数据库 相关 -->
<script src="./assets/js/cookieStorage.js" type="text/javascript"></script>
<script src="./assets/js/localStoreage.js" type="text/javascript"></script>
<script src="./js/dbUtils.js" type="text/javascript"></script>
<script src="./js/dataUtils.js" type="text/javascript"></script>

<script src="js/webim.js"></script>

<!--<script src="./js/_coolchat-login.js" type="text/javascript"></script>-->
<script src="./js/login.js" type="text/javascript"></script>

<!-- 客服模块相关js -->
<script src="./js/customerService.js" type="text/javascript"></script>
<!-- <script type="text/javascript" src="login.js"></script> -->
<script type="text/javascript" charset="UTF-8">
    (function(){
        var regeditPhoneOrName;// 0:手机号注册，1：用户名注册
        try {
            mySdk.getConfig(function(result){
                regeditPhoneOrName = result.regeditPhoneOrName;
                tigLog("====> initConfig > "+JSON.stringify(result));
            });
        }catch (e) {
            regeditPhoneOrName = 0;
        }
        $('#account,#register_account').attr('lay-verify',null);
        //登录区号
        $("#telephone,#register_telephone").intlTelInput({
            autoHideDialCode: false,
            autoPlaceholder: "off",
            dropdownContainer: "body",
            geoIpLookup: null,
            //初始国家
            initialCountry: "cn",
            nationalMode: false,
            preferredCountries: ['cn', 'my'],
            separateDialCode: true,
            utilsScript: "assets/js/utils.js",
        });
        $(".register").hide();
        $(".login").show();
        $(".phone-title").click(function(){
            $(this).css({"background-color":"#a0ccfd","position":"relative","left":"10px","z-index":"1"});
            $(".user-title").css({"background-color":"#eeedec","position":"relative","left":"-5px","z-index":"0"});
            $('#telephone,#register_telephone').closest('.intl-tel-input').show();
            //登录区号
            $("#telephone,#register_telephone").intlTelInput({
                autoHideDialCode: false,
                autoPlaceholder: "off",
                dropdownContainer: "body",
                geoIpLookup: null,
                //初始国家
                initialCountry: "cn",
                nationalMode: false,
                preferredCountries: ['cn', 'my'],
                separateDialCode: true,
                utilsScript: "assets/js/utils.js",
            });
            $('#account,#register_account').hide();
            $('#account,#register_account').attr('lay-verify',null);
            $('#telephone,#register_telephone').attr('lay-verify',"required");
        });


        $(".user-title").click(function(){
            $(this).css({"background-color":"#a0ccfd","position":"relative","left":"-5px","z-index":"1"});
            $(".phone-title").css({"background-color":"#eeedec","position":"relative","left":"10px","z-index":"0"});
            $('#telephone,#register_telephone').closest('.intl-tel-input').hide();
            $('#account,#register_account').show();
            $('#account,#register_account').attr('lay-verify',"required");
            $('#telephone,#register_telephone').attr('lay-verify',null);
        });
        $('#toLogin').click(function () {
            $(".register").hide();
            $(".login").show();
            $(".phone-title").css({"background-color":"#a0ccfd","position":"relative","left":"10px","z-index":"1"});
            $(".user-title").css({"background-color":"#eeedec","position":"relative","left":"-5px","z-index":"0"});
            $(".phone-title").click();
        });
        $('#toRigister').click(function () {
            $(".register").show();
            $(".login").hide();
            $(".phone-title").css({"background-color":"#a0ccfd","position":"relative","left":"10px","z-index":"1"});
            $(".user-title").css({"background-color":"#eeedec","position":"relative","left":"-5px","z-index":"0"});
            $(".phone-title").click();
        });
        if(0 == regeditPhoneOrName){
            //注册区号
            $("#register_telephone").intlTelInput({
                autoHideDialCode: false,
                autoPlaceholder: "off",
                dropdownContainer: "body",
                geoIpLookup: null,
                //初始国家
                initialCountry: "cn",
                nationalMode: false,
                preferredCountries: ['cn', 'my'],
                separateDialCode: true,
                utilsScript: "assets/js/utils.js",
            });
        }else{

        }
    })();

</script>

</body>
</html>